@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@model List<TicketService.DAL.Models.Event>
@{ ViewData["Title"] = "Events Page"; }


<h1>@Localizer["Title"]</h1>
<div class="d-flex">
    @if (User.IsInRole(Roles.Administrator))
    {
<div class="m-2">
    <a class="btn btn-primary" asp-area="" asp-controller="Events" asp-action="CreateView">+</a>
</div>}
</div>
<table class=" table table-responsive table-striped">
    <thead>
        <tr>
            <th scope="col">@Localizer["Event.Id"]</th>
            <th scope="col">@Localizer["Event.Name"]</th>
            <th scope="col">@Localizer["Event.Date"]</th>
            <th scope="col">@Localizer["Event.City"]</th>
            <th></th>
            <th></th>
        </tr>
    </thead>

    @{ foreach (var item in Model)
        {
<tr>
    <td>@item.EventId</td>
    <td>@item.Name</td>
    <td>@item.Date.ToString("dd.MM.yyyy")</td>
    <td>@item.Venue.City.Name</td>
    <td>
        @Html.ActionLink(Localizer["Details"].Value, "Details", new { id = item.EventId }, new { @class = "btn btn-primary" })
    </td>
    <td>
        @Html.ActionLink(Localizer["Tickets"].Value, "Tickets", "Tickets", new { id = item.EventId }, new { @class = "btn btn-primary" })
    </td>
    <td>
        <a class="btn btn-primary" asp-area="" asp-controller="Events" asp-action="EditView" asp-route-id="@item.EventId">Edit</a>
    </td>
    <td>
        <a class="btn btn-primary" asp-area="" asp-controller="Events" asp-action="DeleteEvent">Delete</a>
    </td>
</tr> } }

</table>




