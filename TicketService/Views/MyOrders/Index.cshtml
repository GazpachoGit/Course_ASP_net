@using Microsoft.AspNetCore.Mvc.Localization
@using TicketService.DAL.Models;
@inject IViewLocalizer Localizer
@model IEnumerable<TicketService.DAL.Models.Order>
@{ var Confirmed = Model.Where(o => o.Status == OrderStatus.Confirmed);
    var Rejected = Model.Where(o => o.Status == OrderStatus.Rejected);
    var Waiting = Model.Where(o => o.Status == OrderStatus.Waiting);
}

<h1>@Localizer["Title"]</h1>
<nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <a class="nav-item nav-link active" id="nav-Confirmed-tab" data-toggle="tab" href="#nav-Confirmed" role="tab" aria-controls="nav-Confirmed" aria-selected="true">@Localizer["Confirmed"]</a>
        <a class="nav-item nav-link" id="nav-Rejected-tab" data-toggle="tab" href="#nav-Rejected" role="tab" aria-controls="nav-Rejected" aria-selected="false">@Localizer["Rejected"]</a>
        <a class="nav-item nav-link" id="nav-Waiting-tab" data-toggle="tab" href="#nav-Waiting" role="tab" aria-controls="nav-Waiting" aria-selected="false">@Localizer["Waiting"]</a>
    </div>
</nav>
<div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-Confirmed" role="tabpanel" aria-labelledby="nav-Confirmed-tab">
        <h2>Confirmed</h2>
        @{ if (!Confirmed.Any())
            {
<h4>No tickets confirmed</h4> }
            else
            {
<div class="container">
    <div class="d-flex">
        <table class="table table-responsive table-hover">
            <thead>
                <tr>
                    <th>
                        @Localizer["Event"]
                    </th>
                    <th>
                        @Localizer["Price"]
                    </th>
                </tr>
            </thead>
            @foreach (var item in Confirmed)
            {
        <tr>
            <td>
                @item.Ticket.Event.Name
            </td>
            <td>
                @item.Ticket.Price
            </td>
        </tr>}
        </table>
    </div>
</div> } }
    </div>
    <div class="tab-pane fade" id="nav-Rejected" role="tabpanel" aria-labelledby="nav-Rejected-tab">
        <h2> Rejected </h2>
        @{ if (!Rejected.Any())
            {
    <h4>No orderss rejected</h4> }
else
{
    <div class="container">
        <div class="d-flex">
            <table class="table table-responsive table-hover">
                <thead>
                    <tr>
                        <th>
                            @Localizer["Event"]
                        </th>
                        <th>
                            @Localizer["Price"]
                        </th>
                    </tr>
                </thead>
                @foreach (var item in Rejected)
                {
    <tr>
        <td>
            @item.Ticket.Event.Name
        </td>
        <td>
            @item.Ticket.Price
        </td>
    </tr>
}
            </table>
        </div>
    </div> } }
    </div>
    <div class="tab-pane fade" id="nav-Waiting" role="tabpanel" aria-labelledby="nav-Waiting-tab">
        <h2> Waiting </h2>
        @{ if (!Waiting.Any())
            {
    <h4>No tickets waiting</h4> }
else
{
    <div class="container">
        <div class="d-flex">
            <table class="table table-responsive table-hover">
                <thead>
                    <tr>
                        <th>
                            @Localizer["Event"]
                        </th>
                        <th>
                            @Localizer["Price"]
                        </th>
                    </tr>
                </thead>
                @foreach (var item in Waiting)
                {
    <tr>
        <td>
            @item.Ticket.Event.Name
        </td>
        <td>
            @item.Ticket.Price
        </td>
    </tr>
}
            </table>
        </div>
    </div> } }
    </div>
</div>
